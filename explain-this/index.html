<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从ECMAScript规范中解读this | King-peach</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="记录一些平时遇到的问题和技术难点">
    
    <link rel="preload" href="/assets/css/0.styles.5cc29924.css" as="style"><link rel="preload" href="/assets/js/app.e4cbe0ad.js" as="script"><link rel="preload" href="/assets/js/26.58159373.js" as="script"><link rel="preload" href="/assets/js/1.297c7cf7.js" as="script"><link rel="preload" href="/assets/js/41.406997a5.js" as="script"><link rel="prefetch" href="/assets/js/10.5e77034d.js"><link rel="prefetch" href="/assets/js/11.b5e52617.js"><link rel="prefetch" href="/assets/js/12.e606bb39.js"><link rel="prefetch" href="/assets/js/13.5658aad4.js"><link rel="prefetch" href="/assets/js/14.4f22d05f.js"><link rel="prefetch" href="/assets/js/15.77a4ae07.js"><link rel="prefetch" href="/assets/js/16.37c163db.js"><link rel="prefetch" href="/assets/js/17.cae1447f.js"><link rel="prefetch" href="/assets/js/18.e5ce87b6.js"><link rel="prefetch" href="/assets/js/19.0b166866.js"><link rel="prefetch" href="/assets/js/20.fb1850aa.js"><link rel="prefetch" href="/assets/js/21.2997a3f3.js"><link rel="prefetch" href="/assets/js/22.0b836d61.js"><link rel="prefetch" href="/assets/js/23.6982e296.js"><link rel="prefetch" href="/assets/js/24.54312ba1.js"><link rel="prefetch" href="/assets/js/25.26abe02d.js"><link rel="prefetch" href="/assets/js/27.f9457610.js"><link rel="prefetch" href="/assets/js/28.f3873e75.js"><link rel="prefetch" href="/assets/js/29.da7a0da2.js"><link rel="prefetch" href="/assets/js/3.f4742b08.js"><link rel="prefetch" href="/assets/js/30.8da771a8.js"><link rel="prefetch" href="/assets/js/31.b5b7fd08.js"><link rel="prefetch" href="/assets/js/32.2a3ed388.js"><link rel="prefetch" href="/assets/js/33.d69d7cf2.js"><link rel="prefetch" href="/assets/js/34.e9d4f82a.js"><link rel="prefetch" href="/assets/js/35.b066942b.js"><link rel="prefetch" href="/assets/js/36.dd2852de.js"><link rel="prefetch" href="/assets/js/37.a55f022e.js"><link rel="prefetch" href="/assets/js/38.f9c9c15c.js"><link rel="prefetch" href="/assets/js/39.2fe56c0f.js"><link rel="prefetch" href="/assets/js/4.c7f21514.js"><link rel="prefetch" href="/assets/js/40.b2a7aa95.js"><link rel="prefetch" href="/assets/js/42.73cabace.js"><link rel="prefetch" href="/assets/js/43.c391d67d.js"><link rel="prefetch" href="/assets/js/44.cfa42cbd.js"><link rel="prefetch" href="/assets/js/45.0eb52eac.js"><link rel="prefetch" href="/assets/js/46.95ff2b96.js"><link rel="prefetch" href="/assets/js/47.f766527d.js"><link rel="prefetch" href="/assets/js/48.4dac8b69.js"><link rel="prefetch" href="/assets/js/49.f65c572e.js"><link rel="prefetch" href="/assets/js/5.6cf2bb4c.js"><link rel="prefetch" href="/assets/js/6.7729b2aa.js"><link rel="prefetch" href="/assets/js/7.a778d25a.js"><link rel="prefetch" href="/assets/js/8.5b1b1b9e.js"><link rel="prefetch" href="/assets/js/9.692124a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5cc29924.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">King-peach</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html&amp;css/" class="nav-link">
  HTML+CSS
</a></li><li class="dropdown-item"><!----> <a href="/web/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/web/engineering/" class="nav-link">
  前端工程化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/flutter/start.html" class="nav-link">
  花上几个小时学习Dart，为Flutter打好基础
</a></li></ul></div></div><div class="nav-item"><a href="/personal/" class="nav-link">
  关于我的
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html&amp;css/" class="nav-link">
  HTML+CSS
</a></li><li class="dropdown-item"><!----> <a href="/web/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/web/engineering/" class="nav-link">
  前端工程化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/flutter/start.html" class="nav-link">
  花上几个小时学习Dart，为Flutter打好基础
</a></li></ul></div></div><div class="nav-item"><a href="/personal/" class="nav-link">
  关于我的
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Javascript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/1970/01/01/javascript/" class="sidebar-link">定义</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/1970/01/01/variable/" class="sidebar-link">变量对象</a></li><li><a href="/1970/01/01/execution-context/" class="sidebar-link">执行上下文</a></li><li><a href="/1970/01/01/scope-chain/" class="sidebar-link">作用域链</a></li><li><a href="/1970/01/01/execution-context-stack/" class="sidebar-link">执行上下文栈</a></li><li><a href="/1970/01/01/static-active-execution-context-chain/" class="sidebar-link">静态作用域链和动态作用域链</a></li><li><a href="/1970/01/01/explain-this/" aria-current="page" class="active sidebar-link">从ECMAScript规范中解读this</a></li><li><a href="/1970/01/01/explain-closure/" class="sidebar-link">理解闭包</a></li><li><a href="/1970/01/01/prototype-prototypechain/" class="sidebar-link">理解原型和原型链</a></li><li><a href="/1970/01/01/object-extend/" class="sidebar-link">继承的多种方式和优缺点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1970/01/01/object-extend/#_1-原型链继承" class="sidebar-link">1. 原型链继承</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/object-extend/#_2-借用构造函数-经典继承" class="sidebar-link">2. 借用构造函数（经典继承）</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/object-extend/#_3-组合继承" class="sidebar-link">3. 组合继承</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/object-extend/#_4-原型式继承" class="sidebar-link">4. 原型式继承</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/object-extend/#_5-寄生式继承" class="sidebar-link">5. 寄生式继承</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/object-extend/#_6-寄生组合式继承" class="sidebar-link">6. 寄生组合式继承</a></li></ul></li><li><a href="/1970/01/01/task-queue-event-circulation/" class="sidebar-link">一文搞懂宏任务、微任务、消息队列、事件循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1970/01/01/task-queue-event-circulation/#为什么要搞懂这些概念" class="sidebar-link">为什么要搞懂这些概念？</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/task-queue-event-circulation/#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/task-queue-event-circulation/#浏览器事件循环的执行顺序" class="sidebar-link">浏览器事件循环的执行顺序</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/task-queue-event-circulation/#代码示例" class="sidebar-link">代码示例</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/task-queue-event-circulation/#结论" class="sidebar-link">结论</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/task-queue-event-circulation/#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/1970/01/01/modules/" class="sidebar-link">CommonJS、CMD、AMD、UMD、ES Modules详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1970/01/01/modules/#前端模块化" class="sidebar-link">前端模块化</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/modules/#commonjs" class="sidebar-link">CommonJS</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/modules/#amd-require-js" class="sidebar-link">AMD &amp;&amp; require.js</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/modules/#cmd" class="sidebar-link">CMD</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/modules/#umd" class="sidebar-link">UMD</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/modules/#es-module" class="sidebar-link">ES Module</a></li></ul></li><li><a href="/1970/01/01/hacker-9/" class="sidebar-link">9 个超级强大的 javaScript 技巧</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/1970/01/01/argumentsfunc/" class="sidebar-link">一文彻底搞懂 arguments.callee、Function.caller、arguments.caller</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1970/01/01/argumentsfunc/#arguments-callee" class="sidebar-link">arguments.callee</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/argumentsfunc/#function-caller" class="sidebar-link">Function.caller</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/argumentsfunc/#arguments-caller" class="sidebar-link">arguments.caller</a></li></ul></li><li><a href="/1970/01/01/number-inaccurate/" class="sidebar-link">🤯 javaScript数字丢失精度问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1970/01/01/number-inaccurate/#js数字精度丢失的一些典型问题" class="sidebar-link">JS数字精度丢失的一些典型问题</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/number-inaccurate/#js数字丢失精度的原因" class="sidebar-link">JS数字丢失精度的原因</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/number-inaccurate/#解决方案" class="sidebar-link">解决方案</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/number-inaccurate/#引用" class="sidebar-link">引用</a></li></ul></li><li><a href="/1970/01/01/smart-combination/" class="sidebar-link">奇淫技巧之“01转换法”实现组合</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1970/01/01/smart-combination/#组合的定义" class="sidebar-link">组合的定义</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/smart-combination/#_01转换法-实现组合" class="sidebar-link">“01转换法”实现组合</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/smart-combination/#引用" class="sidebar-link">引用</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML+CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="从ecmascript规范中解读this"><a href="#从ecmascript规范中解读this" class="header-anchor">#</a> 从ECMAScript规范中解读this</h1> <p>首先说下this的定义，this是函数作用域中的一个关键字，在ECMAScript规范中实在这么解释this的：<code>this 关键字执行为当前执行环境的 ThisBinding</code>。换句话说就是它用来指向调用此函数的对象。<br>ECMAScript分为语言类型和规范类型<br>ECMAScript语言类型是开发者直接使用ECMAScript可以操作的，也就是七种基本类型：String、Number、Null、Undefined、Boolean、Object、Symbol（es6新增基本类型）<br>ECMAScript规范类型相当于meta-value，是用算法来描述ECMAScript语言类型的。规范类型包括：Reference、List、Completion、Property Descriptor、Property Identifier，Lexical Environment、Environment Record<br>这其中Reference跟this的指向有密切的联系<br>Reference：在ECMAScript标准中被描述为a resolve name binding （已完成的命名绑定）<br>那javascript解析器是如何去解析this的呢，ECMAScript的官方描述如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
1. Let ref be the result of evaluating MemberExpression.

2. Let func be GetValue(ref).

3. Let argList be the result of evaluating Arguments, producing an internal list of argument values (see 11.2.4).

4. If Type(func) is not Object, throw a TypeError exception.

5. If IsCallable(func) is false, throw a TypeError exception.

6. If Type(ref) is Reference, then

    a.If IsPropertyReference(ref) is true, then
    i.Let thisValue be GetBase(ref).

    b. Else, the base of ref is an Environment Record
    i.Let thisValue be the result of calling the Implicit This Value concrete method of GetBase(ref).

7. Else, Type(ref) is not Reference.

    a.Let thisValue be undefined.

8. Return the result of calling the [[Call]] internal method on func, providing thisValue as the this value and providing the list argList as the argument values.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>这八句话啥意思呢，其实我也想知道😂、不过我找到一张图来解释这八句话，图示：<br> <img src="https://cdn.nlark.com/yuque/0/2019/jpeg/192449/1552561876073-c4734105-85c7-44eb-96e2-1d9fc22d4c2c.jpeg#align=left&amp;display=inline&amp;height=1121&amp;name=167cec74a1455c7b.jpg&amp;originHeight=1615&amp;originWidth=1075&amp;size=89302&amp;status=done&amp;width=746" alt="167cec74a1455c7b.jpg"><br>这张图将解析的每一个步骤进行了分析。红色指代关键的步骤，如果第三步<code>getValue(ref)</code>得出的结果无法通过第五步的判断的话，也就是<code>getValue(ref)</code>不是一个对象，那this指向毫无意义，此时编译器会抛出类型异常<br>第二步：计算MemberExpression的值并且赋给Ref：也就是计算（）左边内容的结果，并赋值给Ref<br>第六步：判断Ref是否为Reference类型<br>第七步：判断ref是否是属于引用类型：官方解释：通过执行<code>IsPropertyReference(V)</code>来判断，如果base value是个对象或<code>HasPrimitiveBase(V)</code>是true，那么返回true，否则返回false。<code>HasPrimitiveBase(V)</code>：如果base value是Boolean、Number、String，那么返回true。也就是ref这个引用是基于哪个对象。如果是基于一个对象或者Boolean、String、Number那就返回true，否则返回false。<br> <br>由于base value和<code>IsPropertyReference</code>都是和Reference有关系的，所以来详细解释一下Reference的构成：<br>官方的解释比较复杂，简化来说就是Reference有三个组成部分，分别是：<br>1、base value<br>2、reference name<br>3、strict reference<br> <br>其中base value就是属性所在的对象或者就是<code>EnvironmentRecord</code>，它的值只可能是undefined、Object、Boolean、String、Number、environment record其中的一种。而且规范中还提供了获取Reference组成部分的方法，比如<code>GetBase</code>和<code>IsPropertyReference</code>。<br>1、GetBase：返回Reference的base value<br>2、IsPropertyReference：如果base value是一个对象，就返回true</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">bar</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token keyword">this</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
foo<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// foo</span>
<span class="token comment">// bar对应的Reference是：</span>
<span class="token keyword">var</span> barReference <span class="token operator">=</span> <span class="token punctuation">{</span>
	base<span class="token operator">:</span> foo<span class="token punctuation">,</span> <span class="token comment">// base value</span>
  propertyName<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
  strict<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>GetValue：返回对象真正的值，而不是获取Reference。上面例子中<code>getValue(barReference) = function() { return this }</code>。<br>针对具体使用场景进行分析：<br>1、直接调用<br></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'m'</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>根据图中步骤进行分析：<br>一、test()的Ref就是test的引用<br>二、判断test是否为引用类型，返回true<br>三、判断Ref是否是属性引用类型，返回false，因为它并没有定义在某个引用类型内部，也就是不是对象的属性<br>四、进入到第九步：<code>this =&gt; ImpliciThisValue(Ref)</code>，在Environment Record都返回undefined，而非严格模式会将undefined指向window对象<br> <br>2、在对象内部调<br></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> parent <span class="token operator">=</span> <span class="token punctuation">{</span>
	a<span class="token operator">:</span> <span class="token string">'s'</span><span class="token punctuation">,</span>
  test<span class="token operator">:</span> test
<span class="token punctuation">}</span>
parent<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// s</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>根据图中步骤进行分析：<br>一、test()的Ref是parent.test的引用<br>二、判断parent.test是否为引用类型，返回true<br>三、判断Ref是否为属性引用类型，返回true<br>四、进入到第八步GetBase(Ref)是parent，所以this指向parent<br> <br>3、构造函数new一个新对象<br></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'m'</span>
<span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">'s'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>new 关键字的调用区别于一般的函数调用<br>一、一个继承自Foo.prototype的新对象被创建<br>二、使用指定的参数调用构造函数Foo，并将this绑定到新创建的对象<br> <br>4、箭头函数的this指向（待探索）<br></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>本文档内容引用自：<a href="https://juejin.im/post/5c1c5bfcf265da614c4cc40e" target="_blank" rel="noopener noreferrer">dendoink的掘金文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://github.com/mqyqingfeng/Blog/issues/7" target="_blank" rel="noopener noreferrer">冴羽的博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">12/15/2021, 6:30:13 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/1970/01/01/static-active-execution-context-chain/" class="prev">
        静态作用域链和动态作用域链
      </a></span> <span class="next"><a href="/1970/01/01/explain-closure/">
        理解闭包
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e4cbe0ad.js" defer></script><script src="/assets/js/26.58159373.js" defer></script><script src="/assets/js/1.297c7cf7.js" defer></script><script src="/assets/js/41.406997a5.js" defer></script>
  </body>
</html>
