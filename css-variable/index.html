<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>css Variable(css原生变量var) | King-peach</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="记录一些平时遇到的问题和技术难点">
    
    <link rel="preload" href="/assets/css/0.styles.5cc29924.css" as="style"><link rel="preload" href="/assets/js/app.e4cbe0ad.js" as="script"><link rel="preload" href="/assets/js/26.58159373.js" as="script"><link rel="preload" href="/assets/js/1.297c7cf7.js" as="script"><link rel="preload" href="/assets/js/5.6cf2bb4c.js" as="script"><link rel="prefetch" href="/assets/js/10.5e77034d.js"><link rel="prefetch" href="/assets/js/11.b5e52617.js"><link rel="prefetch" href="/assets/js/12.e606bb39.js"><link rel="prefetch" href="/assets/js/13.5658aad4.js"><link rel="prefetch" href="/assets/js/14.4f22d05f.js"><link rel="prefetch" href="/assets/js/15.77a4ae07.js"><link rel="prefetch" href="/assets/js/16.37c163db.js"><link rel="prefetch" href="/assets/js/17.cae1447f.js"><link rel="prefetch" href="/assets/js/18.e5ce87b6.js"><link rel="prefetch" href="/assets/js/19.0b166866.js"><link rel="prefetch" href="/assets/js/20.fb1850aa.js"><link rel="prefetch" href="/assets/js/21.2997a3f3.js"><link rel="prefetch" href="/assets/js/22.0b836d61.js"><link rel="prefetch" href="/assets/js/23.6982e296.js"><link rel="prefetch" href="/assets/js/24.54312ba1.js"><link rel="prefetch" href="/assets/js/25.26abe02d.js"><link rel="prefetch" href="/assets/js/27.f9457610.js"><link rel="prefetch" href="/assets/js/28.f3873e75.js"><link rel="prefetch" href="/assets/js/29.da7a0da2.js"><link rel="prefetch" href="/assets/js/3.f4742b08.js"><link rel="prefetch" href="/assets/js/30.8da771a8.js"><link rel="prefetch" href="/assets/js/31.b5b7fd08.js"><link rel="prefetch" href="/assets/js/32.2a3ed388.js"><link rel="prefetch" href="/assets/js/33.d69d7cf2.js"><link rel="prefetch" href="/assets/js/34.e9d4f82a.js"><link rel="prefetch" href="/assets/js/35.b066942b.js"><link rel="prefetch" href="/assets/js/36.dd2852de.js"><link rel="prefetch" href="/assets/js/37.a55f022e.js"><link rel="prefetch" href="/assets/js/38.f9c9c15c.js"><link rel="prefetch" href="/assets/js/39.2fe56c0f.js"><link rel="prefetch" href="/assets/js/4.c7f21514.js"><link rel="prefetch" href="/assets/js/40.b2a7aa95.js"><link rel="prefetch" href="/assets/js/41.406997a5.js"><link rel="prefetch" href="/assets/js/42.73cabace.js"><link rel="prefetch" href="/assets/js/43.c391d67d.js"><link rel="prefetch" href="/assets/js/44.cfa42cbd.js"><link rel="prefetch" href="/assets/js/45.0eb52eac.js"><link rel="prefetch" href="/assets/js/46.95ff2b96.js"><link rel="prefetch" href="/assets/js/47.f766527d.js"><link rel="prefetch" href="/assets/js/48.4dac8b69.js"><link rel="prefetch" href="/assets/js/49.f65c572e.js"><link rel="prefetch" href="/assets/js/6.7729b2aa.js"><link rel="prefetch" href="/assets/js/7.a778d25a.js"><link rel="prefetch" href="/assets/js/8.5b1b1b9e.js"><link rel="prefetch" href="/assets/js/9.692124a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5cc29924.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">King-peach</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html&amp;css/" class="nav-link">
  HTML+CSS
</a></li><li class="dropdown-item"><!----> <a href="/web/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/web/engineering/" class="nav-link">
  前端工程化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/flutter/start.html" class="nav-link">
  花上几个小时学习Dart，为Flutter打好基础
</a></li></ul></div></div><div class="nav-item"><a href="/personal/" class="nav-link">
  关于我的
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html&amp;css/" class="nav-link">
  HTML+CSS
</a></li><li class="dropdown-item"><!----> <a href="/web/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/web/engineering/" class="nav-link">
  前端工程化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/flutter/start.html" class="nav-link">
  花上几个小时学习Dart，为Flutter打好基础
</a></li></ul></div></div><div class="nav-item"><a href="/personal/" class="nav-link">
  关于我的
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>HTML+CSS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/1970/01/01/html-css/" class="sidebar-link">概述</a></li><li><a href="/1970/01/01/css-variable/" aria-current="page" class="active sidebar-link">css Variable(css原生变量var)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/1970/01/01/implement-arrow/" class="sidebar-link">HTML5+CSS3实现箭头</a></li><li><a href="/1970/01/01/pseudo-element-research/" class="sidebar-link">伪元素究极补救方案</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="css-variable-css原生变量var"><a href="#css-variable-css原生变量var" class="header-anchor">#</a> css Variable(css原生变量var)</h1> <p><img src="/assets/img/css-variable-header-img.c0463b10.png" alt="image.png"><br>​</p> <p>最近在做javascript30的练习中碰到一个比较陌生的知识点: css Variable，也就是css 原生变量。<br>如果你已经了解了这方面的知识，那可以跳过。通过一番搜索，我找到了<a href="https://www.zhangxinxu.com/wordpress/2016/11/css-css3-variables-var/comment-page-1/" target="_blank" rel="noopener noreferrer">张鑫旭大神的博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。张大大对于这部分的知识讲解的很细。所以我就厚脸皮的摘抄下大大的内容吧。<br></p> <p><a name="mJSwX"></a></p> <h3 id="_1-兼容性"><a href="#_1-兼容性" class="header-anchor">#</a> 1. 兼容性</h3> <p>首先我们去<a href="https://caniuse.com/#search=variable" target="_blank" rel="noopener noreferrer">caniuse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>去查下var得兼容性：<br> <br><img src="/assets/img/css-variable-content-img-1.b13a848c.png" alt="image.png"><br> <br>从图中可以看到，主流浏览器都兼容此属性，但是IE和QQ、baidu浏览器是不支持得。如果你的应用要兼容这些浏览器，可能var不是一个好的选择。<br></p> <p><a name="IVnkw"></a></p> <h3 id="_2-css变量var-语法的用法和特性"><a href="#_2-css变量var-语法的用法和特性" class="header-anchor">#</a> 2. css变量var()语法的用法和特性</h3> <p>css中原生的变量定义语法是：<code>--*</code>，变量使用语法是：<code>var(--*)</code>，其中<code>*</code>表示我们的变量名称。<br>关于命名这个东西，各种语言都有些显示，例如css选择器不能是数字开头，js中的变量是不能直接是数值的。但是在css中没有这些限制。例如：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--1</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><br>背景色如下：<br> <br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUwAAABkCAYAAADt5gmwAAADMUlEQVR4Ae3UMQ0AMQwEwc9TMn9siRQCWQDj+qqRtWtm9ucIECBA4CnwPxcGBAgQIHAFBNMjECBAIAoIZoQyI0CAgGD6AQIECEQBwYxQZgQIEBBMP0CAAIEoIJgRyowAAQKC6QcIECAQBQQzQpkRIEBAMP0AAQIEooBgRigzAgQICKYfIECAQBQQzAhlRoAAAcH0AwQIEIgCghmhzAgQICCYfoAAAQJRQDAjlBkBAgQE0w8QIEAgCghmhDIjQICAYPoBAgQIRAHBjFBmBAgQEEw/QIAAgSggmBHKjAABAoLpBwgQIBAFBDNCmREgQEAw/QABAgSigGBGKDMCBAgIph8gQIBAFBDMCGVGgAABwfQDBAgQiAKCGaHMCBAgIJh+gAABAlFAMCOUGQECBATTDxAgQCAKCGaEMiNAgIBg+gECBAhEAcGMUGYECBAQTD9AgACBKCCYEcqMAAECgukHCBAgEAUEM0KZESBAQDD9AAECBKKAYEYoMwIECAimHyBAgEAUEMwIZUaAAAHB9AMECBCIAoIZocwIECAgmH6AAAECUUAwI5QZAQIEBNMPECBAIAoIZoQyI0CAgGD6AQIECEQBwYxQZgQIEBBMP0CAAIEoIJgRyowAAQKC6QcIECAQBQQzQpkRIEBAMP0AAQIEooBgRigzAgQICKYfIECAQBQQzAhlRoAAAcH0AwQIEIgCghmhzAgQICCYfoAAAQJRQDAjlBkBAgQE0w8QIEAgCghmhDIjQICAYPoBAgQIRAHBjFBmBAgQEEw/QIAAgSggmBHKjAABAoLpBwgQIBAFBDNCmREgQEAw/QABAgSigGBGKDMCBAgIph8gQIBAFBDMCGVGgAABwfQDBAgQiAKCGaHMCBAgIJh+gAABAlFAMCOUGQECBATTDxAgQCAKCGaEMiNAgIBg+gECBAhEAcGMUGYECBAQTD9AgACBKCCYEcqMAAECgukHCBAgEAUEM0KZESBAQDD9AAECBKKAYEYoMwIECAimHyBAgEAUEMwIZUaAAAHB9AMECBCIAoIZocwIECAgmH6AAAECUUAwI5QZAQIEBNMPECBAIAoIZoQyI0CAwAFp3gJgm9W3YAAAAABJRU5ErkJggg==" alt="image.png"><br> <br>但是不能包含<code>$ 、[ 、^ 、( 、%</code>等字符，普通字符局限在只要是数字<code>&quot;[0-9]&quot;</code>字母<code>&quot;[a-zA-Z]&quot;</code>下划线<code>&quot;_&quot;</code>和短横线<code>&quot;-&quot;</code>这些组合，但是可以是中文、日文、或者韩文，例如：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">:root</span> <span class="token punctuation">{</span>
	<span class="token property">--ㅈㅇ</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--ㅈㅇ<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><br>背景色如下：<br> <br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAABWCAYAAAApOehCAAAChUlEQVR4Ae3WwQ2DQBAEwcNpOWHnRwDmhTqIKT7suzRq3XX/vv/jI0CAwDnnQ4EAAQKvgCC8Ev4ECHgh2AABAgl4IWThIjAvIAjzEwBAIAFByMJFYF5AEOYnAIBAAoKQhYvAvIAgzE8AAIEEBCELF4F5AUGYnwAAAgkIQhYuAvMCgjA/AQAEEhCELFwE5gUEYX4CAAgkIAhZuAjMCwjC/AQAEEhAELJwEZgXEIT5CQAgkIAgZOEiMC8gCPMTAEAgAUHIwkVgXkAQ5icAgEACgpCFi8C8gCDMTwAAgQQEIQsXgXkBQZifAAACCQhCFi4C8wKCMD8BAAQSEIQsXATmBQRhfgIACCQgCFm4CMwLCML8BAAQSEAQsnARmBcQhPkJACCQgCBk4SIwLyAI8xMAQCABQcjCRWBeQBDmJwCAQAKCkIWLwLyAIMxPAACBBAQhCxeBeQFBmJ8AAAIJCEIWLgLzAoIwPwEABBIQhCxcBOYFBGF+AgAIJCAIWbgIzAsIwvwEABBIQBCycBGYFxCE+QkAIJCAIGThIjAvIAjzEwBAIAFByMJFYF5AEOYnAIBAAoKQhYvAvIAgzE8AAIEEBCELF4F5AUGYnwAAAgkIQhYuAvMCgjA/AQAEEhCELFwE5gUEYX4CAAgkIAhZuAjMCwjC/AQAEEhAELJwEZgXEIT5CQAgkIAgZOEiMC8gCPMTAEAgAUHIwkVgXkAQ5icAgEACgpCFi8C8gCDMTwAAgQQEIQsXgXkBQZifAAACCQhCFi4C8wKCMD8BAAQSEIQsXATmBQRhfgIACCQgCFm4CMwLCML8BAAQSEAQsnARmBcQhPkJACCQgCBk4SIwLyAI8xMAQCCBB3dTA4Gszb1PAAAAAElFTkSuQmCC" alt="image.png"><br> <br>如上述例子所示，使用韩文作为变量依旧好使。所以使用中文肯定没问题，在命名方面，同学们使用起来应该没有任何压力的。<br> <br>无论是变量的定义和使用只能在声明块{}里面, 例如下面这样是无效的：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token property">--红色</span><span class="token punctuation">:</span> red<span class="token selector">;
body</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--红色<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><br>变量的定义，或者说声明跟css计数器的声明类似的，你应该摆脱sass/less等预编译工具语法先入为主的语法影响，把css的原生变量理解为一种css属性。<br> <br>这样，你就对其权重和变量应用规则要容易理解得多。<br> <br>例如下面这个例子：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">:root</span> <span class="token punctuation">{</span> <span class="token property">--color</span><span class="token punctuation">:</span> purple<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">div</span> <span class="token punctuation">{</span> <span class="token property">--color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">#alert</span> <span class="token punctuation">{</span> <span class="token property">--color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">*</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

&lt;p&gt;我的紫色继承于跟元素&lt;/p&gt;
&lt;div&gt;我的绿色来自直接设置&lt;/div&gt;
&lt;div id=<span class="token string">&quot;alert&quot;</span>&gt;
	ID选择器权重更高，所以我显示红色
	&lt;p&gt;我也是红色，占了继承的光&lt;/p&gt;
&lt;/div&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><br>上面这个例子中，我们可以了解到：<br>1、变量也是跟着<code>CSS</code>选择器走的， 如果变量所在的选择器和使用变量的元素没有交集，是没有效果的。例如<code>#alert</code>定义的变量，只有<code>id</code>为<code>alert</code>的元素才能享有。如果你想变量全局使用，则你可以设置在<code>:root</code>选择器上<br>2、当存在多个同样名称的变量时候，变量的覆盖规则由<code>CSS</code>选择器的权重决定的，但并无<code>!important</code>这种用法，因为没有必要，<code>!important</code>设计初衷是干掉<code>JS</code>的<code>style</code>设置，但是对于变量的定义则没有这样的需求。<br></p> <p><a name="WUHKh"></a></p> <h3 id="_3-css属性可以使用变量定义吗"><a href="#_3-css属性可以使用变量定义吗" class="header-anchor">#</a> 3. CSS属性可以使用变量定义吗？</h3> <p>类似这样：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">--bg</span><span class="token punctuation">:</span> background-color<span class="token punctuation">;</span>
  <span class="token function">var</span><span class="token punctuation">(</span>--br<span class="token punctuation">)</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><br>显然这样是不行的，如果可以这样使用的话，那css的压缩就无敌了，基本所有的css属性都可以压缩到1～2个字符<br></p> <p><a name="8Nt3s"></a></p> <h3 id="_4-css变量使用的完整语法"><a href="#_4-css变量使用的完整语法" class="header-anchor">#</a> 4. CSS变量使用的完整语法</h3> <p><br>CSS变量使用的完整语法为：<code>var([, ]?)</code>，用中文表达就是：<code>var(&lt;自定义属性名&gt;[, &lt;默认值]?)</code>，<br>意思就是，如果我们使用的变量没有定义(注意，仅限于没有定义)，则使用后面的值作为元素的属性值。举个例子：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
	<span class="token property">--红色</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--红色<span class="token punctuation">,</span> #cdcdcd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><br>此时的背景色是<code>#cdcdcd</code>：<br> <br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaAAAACGCAYAAACbtF7GAAAE60lEQVR4Ae3VUQkAMQwFwev5txZNLVRE92di4MEQ2DUz+3MECBAgQOCxwP94zxwBAgQIELgCAuQRCBAgQCAREKCE3SgBAgQICJAfIECAAIFEQIASdqMECBAgIEB+gAABAgQSAQFK2I0SIECAgAD5AQIECBBIBAQoYTdKgAABAgLkBwgQIEAgERCghN0oAQIECAiQHyBAgACBRECAEnajBAgQICBAfoAAAQIEEgEBStiNEiBAgIAA+QECBAgQSAQEKGE3SoAAAQIC5AcIECBAIBEQoITdKAECBAgIkB8gQIAAgURAgBJ2owQIECAgQH6AAAECBBIBAUrYjRIgQICAAPkBAgQIEEgEBChhN0qAAAECAuQHCBAgQCAREKCE3SgBAgQICJAfIECAAIFEQIASdqMECBAgIEB+gAABAgQSAQFK2I0SIECAgAD5AQIECBBIBAQoYTdKgAABAgLkBwgQIEAgERCghN0oAQIECAiQHyBAgACBRECAEnajBAgQICBAfoAAAQIEEgEBStiNEiBAgIAA+QECBAgQSAQEKGE3SoAAAQIC5AcIECBAIBEQoITdKAECBAgIkB8gQIAAgURAgBJ2owQIECAgQH6AAAECBBIBAUrYjRIgQICAAPkBAgQIEEgEBChhN0qAAAECAuQHCBAgQCAREKCE3SgBAgQICJAfIECAAIFEQIASdqMECBAgIEB+gAABAgQSAQFK2I0SIECAgAD5AQIECBBIBAQoYTdKgAABAgLkBwgQIEAgERCghN0oAQIECAiQHyBAgACBRECAEnajBAgQICBAfoAAAQIEEgEBStiNEiBAgIAA+QECBAgQSAQEKGE3SoAAAQIC5AcIECBAIBEQoITdKAECBAgIkB8gQIAAgURAgBJ2owQIECAgQH6AAAECBBIBAUrYjRIgQICAAPkBAgQIEEgEBChhN0qAAAECAuQHCBAgQCAREKCE3SgBAgQICJAfIECAAIFEQIASdqMECBAgIEB+gAABAgQSAQFK2I0SIECAgAD5AQIECBBIBAQoYTdKgAABAgLkBwgQIEAgERCghN0oAQIECAiQHyBAgACBRECAEnajBAgQICBAfoAAAQIEEgEBStiNEiBAgIAA+QECBAgQSAQEKGE3SoAAAQIC5AcIECBAIBEQoITdKAECBAgIkB8gQIAAgURAgBJ2owQIECAgQH6AAAECBBIBAUrYjRIgQICAAPkBAgQIEEgEBChhN0qAAAECAuQHCBAgQCAREKCE3SgBAgQICJAfIECAAIFEQIASdqMECBAgIEB+gAABAgQSAQFK2I0SIECAgAD5AQIECBBIBAQoYTdKgAABAgLkBwgQIEAgERCghN0oAQIECAiQHyBAgACBRECAEnajBAgQICBAfoAAAQIEEgEBStiNEiBAgIAA+QECBAgQSAQEKGE3SoAAAQIC5AcIECBAIBEQoITdKAECBAgIkB8gQIAAgURAgBJ2owQIECAgQH6AAAECBBIBAUrYjRIgQICAAPkBAgQIEEgEBChhN0qAAAECAuQHCBAgQCAREKCE3SgBAgQICJAfIECAAIFEQIASdqMECBAgIEB+gAABAgQSAQFK2I0SIECAgAD5AQIECBBIBAQoYTdKgAABAgLkBwgQIEAgERCghN0oAQIECAiQHyBAgACBRECAEnajBAgQIHAAKMYEcpG38b4AAAAASUVORK5CYII=" alt="image.png"><br> <br>CSS变量不合法的缺省特性<br>请看下面的这个例子：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">--color</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #369<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color<span class="token punctuation">,</span> #cd0000<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><br>请问，此时body的背景色为？<br></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>A. #369   B. 20px   C. #cd0000  D.transparent;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><br>答案是：………………………………D. transparent<br> <br>这是CSS变量非常有意思的一点，对于CSS变量，只要语法是正确的，就算变量里面的值是乱七八糟的东西，也是会作为正常的声明解析，如果发现变量值是不合法的，例如上面的背景色显然不能是<code>20px</code>，则使用背景色的缺省值。也就是默认值代替，于是，上面的CSS等同于：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">--color</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #369<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a name="2y8jC"></a></p> <h3 id="_5-css的空格尾随特性"><a href="#_5-css的空格尾随特性" class="header-anchor">#</a> 5. CSS的空格尾随特性</h3> <p>请看下面这个例子：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">--size</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><br>请问，此时的<code>&lt;body&gt;</code>的<code>font-size</code>大小是多少？<br> <br>我想大多数人会以为是<code>20px</code>吧，其实不然。此处的<code>font-size: var(--size)px</code>别解析出来是<code>font-size: 20 px</code>;注意，20的后面会有一个空格，所以，这里的<code>font-sizes</code>使用的是<code>&lt;body&gt;</code>元素默认的大小。因此，就不要妄图取消就使用一个数值来贯穿全场，还是使用稳妥的做法：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">--size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><br>或者使用CSS3的<code>calc()</code>计算：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">--size</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span> * 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><br>此时的<code>&lt;body&gt;</code>的<code>font-size</code>大小才是<code>20px</code><br></p> <p><a name="35IYv"></a></p> <h3 id="_6-css变量的相互传递特性"><a href="#_6-css变量的相互传递特性" class="header-anchor">#</a> 6. CSS变量的相互传递特性</h3> <p><br>就是说，我们在CSS变量定义的时候可以直接引入其他变量给自己用，例如：<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">--green</span><span class="token punctuation">:</span> #4CAF50<span class="token punctuation">;</span>
  <span class="token property">--backgroundColor</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--green<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><br>或者更复杂的CSS3<code>calc()</code>计算，例如:<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">--column</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span>
  <span class="token property">--margins</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>24px/ <span class="token function">var</span><span class="token punctuation">(</span>--column<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><br>对于复杂布局，CSS变量的这种相互传递的直接引用的特性可以简化我们代码和实现成本，尤其和动态布局在一起的时候，无论是CSS的响应式后者是JS驱动布局的变化。<br> <br>我们来看一个CSS变量与响应式布局的例子，您可以狠狠地戳这里：<a href="https://www.zhangxinxu.com/study/201611/css-var-media-query-layout.html" target="_blank" rel="noopener noreferrer">CSS变量与响应式布局示例DEMO<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <br>默认进去是四栏，如下图：<br>​</p> <p><img src="/assets/img/css-variable-content-img-5.8b90793c.png" alt="image.png"><br>​</p> <p>这里直接引用张大大的资源了，在demo中，随着浏览器的宽度减小，4栏可能就变成3栏，2栏甚至1栏。我们实际开发过程中，显然不仅仅是栏目数量变化，宽度小，往往意味着访问设备尺寸有限，此时我们往往会缩小空白间距以及文字字号大小。这样，有限屏幕才能显示更多内容。<br>​</p> <p>也就是说，当我们响应式变化的时候，改变的CSS属性值不止一个，如果我们有三个响应点，是不是就至少需要9个CSS声明？但是，由于我们有了CSS变量，同事，CSS变量可以传递，当我们遭遇响应点的时候，我们只需要改变一个CSS属性值就可以了。<br>​</p> <p>下面就是本demo核心CSS代码（只需要改变--colum这个变量即可）<br></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
	<span class="token property">--column</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span>
  <span class="token property">--margin</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>24px / <span class="token function">var</span><span class="token punctuation">(</span>--column<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--space</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>4px * <span class="token function">var</span><span class="token punctuation">(</span>--column<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--fontSize</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>20px - 4 / <span class="token function">var</span><span class="token punctuation">(</span>--column<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@medium</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
  	<span class="token property">--column</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@medium</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
  	<span class="token property">--column</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@medium</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
  	<span class="token property">--column</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><br>于是，我们在2栏下看到的效果就是这样了。字号，间距随着栏目数量的减少也一并减少了一半，然后咩栏之间的间距是扩大了。<br> <br><img src="/assets/img/css-variable-content-img-6.1cbd9c1f.png" alt="image.png"><br> <br>这样看来是不是感觉很方便呢？<br></p> <p><a name="fU2c3"></a></p> <h3 id="_7-总结"><a href="#_7-总结" class="header-anchor">#</a> 7. 总结</h3> <p>张大大这篇博文写得可以说是非常详细了，基本每个使用的点都有介绍到。虽然我没去看标准是怎么介绍这块的内容的，但是张大大博文中的每个点我都有测试。<br>值得提一下的是：原生CSS的变量如果所有浏览器都可以支持的话，那么基本可以替代sass/less的功能了。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">12/15/2021, 6:30:13 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/1970/01/01/html-css/" class="prev">
        概述
      </a></span> <span class="next"><a href="/1970/01/01/implement-arrow/">
        HTML5+CSS3实现箭头
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e4cbe0ad.js" defer></script><script src="/assets/js/26.58159373.js" defer></script><script src="/assets/js/1.297c7cf7.js" defer></script><script src="/assets/js/5.6cf2bb4c.js" defer></script>
  </body>
</html>
