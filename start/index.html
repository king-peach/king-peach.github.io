<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>花上几个小时学习Dart，为Flutter打好基础 | King-peach</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="记录一些平时遇到的问题和技术难点">
    
    <link rel="preload" href="/assets/css/0.styles.5cc29924.css" as="style"><link rel="preload" href="/assets/js/app.e4cbe0ad.js" as="script"><link rel="preload" href="/assets/js/26.58159373.js" as="script"><link rel="preload" href="/assets/js/1.297c7cf7.js" as="script"><link rel="preload" href="/assets/js/30.8da771a8.js" as="script"><link rel="prefetch" href="/assets/js/10.5e77034d.js"><link rel="prefetch" href="/assets/js/11.b5e52617.js"><link rel="prefetch" href="/assets/js/12.e606bb39.js"><link rel="prefetch" href="/assets/js/13.5658aad4.js"><link rel="prefetch" href="/assets/js/14.4f22d05f.js"><link rel="prefetch" href="/assets/js/15.77a4ae07.js"><link rel="prefetch" href="/assets/js/16.37c163db.js"><link rel="prefetch" href="/assets/js/17.cae1447f.js"><link rel="prefetch" href="/assets/js/18.e5ce87b6.js"><link rel="prefetch" href="/assets/js/19.0b166866.js"><link rel="prefetch" href="/assets/js/20.fb1850aa.js"><link rel="prefetch" href="/assets/js/21.2997a3f3.js"><link rel="prefetch" href="/assets/js/22.0b836d61.js"><link rel="prefetch" href="/assets/js/23.6982e296.js"><link rel="prefetch" href="/assets/js/24.54312ba1.js"><link rel="prefetch" href="/assets/js/25.26abe02d.js"><link rel="prefetch" href="/assets/js/27.f9457610.js"><link rel="prefetch" href="/assets/js/28.f3873e75.js"><link rel="prefetch" href="/assets/js/29.da7a0da2.js"><link rel="prefetch" href="/assets/js/3.f4742b08.js"><link rel="prefetch" href="/assets/js/31.b5b7fd08.js"><link rel="prefetch" href="/assets/js/32.2a3ed388.js"><link rel="prefetch" href="/assets/js/33.d69d7cf2.js"><link rel="prefetch" href="/assets/js/34.e9d4f82a.js"><link rel="prefetch" href="/assets/js/35.b066942b.js"><link rel="prefetch" href="/assets/js/36.dd2852de.js"><link rel="prefetch" href="/assets/js/37.a55f022e.js"><link rel="prefetch" href="/assets/js/38.f9c9c15c.js"><link rel="prefetch" href="/assets/js/39.2fe56c0f.js"><link rel="prefetch" href="/assets/js/4.c7f21514.js"><link rel="prefetch" href="/assets/js/40.b2a7aa95.js"><link rel="prefetch" href="/assets/js/41.406997a5.js"><link rel="prefetch" href="/assets/js/42.73cabace.js"><link rel="prefetch" href="/assets/js/43.c391d67d.js"><link rel="prefetch" href="/assets/js/44.cfa42cbd.js"><link rel="prefetch" href="/assets/js/45.0eb52eac.js"><link rel="prefetch" href="/assets/js/46.95ff2b96.js"><link rel="prefetch" href="/assets/js/47.f766527d.js"><link rel="prefetch" href="/assets/js/48.4dac8b69.js"><link rel="prefetch" href="/assets/js/49.f65c572e.js"><link rel="prefetch" href="/assets/js/5.6cf2bb4c.js"><link rel="prefetch" href="/assets/js/6.7729b2aa.js"><link rel="prefetch" href="/assets/js/7.a778d25a.js"><link rel="prefetch" href="/assets/js/8.5b1b1b9e.js"><link rel="prefetch" href="/assets/js/9.692124a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5cc29924.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">King-peach</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html&amp;css/" class="nav-link">
  HTML+CSS
</a></li><li class="dropdown-item"><!----> <a href="/web/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/web/engineering/" class="nav-link">
  前端工程化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/flutter/start.html" class="nav-link">
  花上几个小时学习Dart，为Flutter打好基础
</a></li></ul></div></div><div class="nav-item"><a href="/personal/" class="nav-link">
  关于我的
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html&amp;css/" class="nav-link">
  HTML+CSS
</a></li><li class="dropdown-item"><!----> <a href="/web/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/web/engineering/" class="nav-link">
  前端工程化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/flutter/start.html" class="nav-link">
  花上几个小时学习Dart，为Flutter打好基础
</a></li></ul></div></div><div class="nav-item"><a href="/personal/" class="nav-link">
  关于我的
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>花上几个小时学习Dart，为Flutter打好基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/1970/01/01/start/" aria-current="page" class="active sidebar-link">花上几个小时学习Dart，为Flutter打好基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1970/01/01/start/#一、hello-dart" class="sidebar-link">一、Hello Dart</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/start/#二、定义变量和常量" class="sidebar-link">二、定义变量和常量</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/start/#三、数据类型" class="sidebar-link">三、数据类型</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/start/#四、函数" class="sidebar-link">四、函数</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/start/#五、运算符" class="sidebar-link">五、运算符</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/start/#六、流程控制" class="sidebar-link">六、流程控制</a></li><li class="sidebar-sub-header"><a href="/1970/01/01/start/#七、类和对象" class="sidebar-link">七、类和对象</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="花上几个小时学习dart-为flutter打好基础"><a href="#花上几个小时学习dart-为flutter打好基础" class="header-anchor">#</a> 花上几个小时学习Dart，为Flutter打好基础</h1> <p>虽然<code>Flutter</code>官网说学习上手<code>Flutter</code>并不需要刻意学习<code>Dart</code>语言 ，当你碰到不懂的地方再开始回头来看<code>Dart</code>语法。但是当我搭建好环境后，练习<a href="https://flutterchina.club/" target="_blank" rel="noopener noreferrer">Flutter中文网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的demo时，还是有些吃力，或许是我的语言天赋太差了，亦或者是我的编程基础太差了。所以我决定从头开始学习<code>Dart</code>。这样看起<code>flutter</code>代码来才能事半功倍。<br>相信准备学习<code>Flutter</code>的开发者们，应该都有多年的编程从业经验了吧，所以我不打算细致的讲解<code>Dart</code>内容，我之前是一位Web开发者，对于<code>javaScript</code>比较熟悉，所以这篇文章我主要从<code>Dart</code>和<code>javaScript</code>不同的地方去剖析。
<a name="NHnSn"></a></p> <h2 id="一、hello-dart"><a href="#一、hello-dart" class="header-anchor">#</a> 一、Hello Dart</h2> <p>学习任何一门语言都是从&quot;Hello World!&quot;开始，那我们也从这开始吧。
<a name="AvTI0"></a></p> <h3 id="_1-hello-world"><a href="#_1-hello-world" class="header-anchor">#</a> 1. Hello World</h3> <p>首先打开我们比较熟悉的编译器，新建一个helloWorld.dart，打开并输入下面这一串代码</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token function">main</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>x
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后在终端中输入<code>dart helloWorld.dart</code>，就能看到“hello world”的结果了。
<a name="8atMA"></a></p> <h3 id="_2-语法解析"><a href="#_2-语法解析" class="header-anchor">#</a> 2. 语法解析</h3> <p>针对上面的那一段代码进行简单的解释，也 由此总结下写<code>Dart</code>需要注意什么：</p> <ol><li><code>main()</code> 函数是<code>Dart</code>语言的入口函数，也是必不可少的</li> <li><code>Dart</code>的入口函数<code>main()</code>是没有返回值的</li> <li>传递给<code>main()</code>函数的命令行参数，是通过<code>List</code>完成的，其中<code>List</code>是<code>Dart</code>的集合类型</li> <li>定义字符串的时候，可以使用单引号或者双引号</li> <li>每行语句必须使用分号结尾，对象类型的数据中以逗号分割且最后一个属性也要带上逗号
<a name="8Irjr"></a></li></ol> <h2 id="二、定义变量和常量"><a href="#二、定义变量和常量" class="header-anchor">#</a> 二、定义变量和常量</h2> <p>Dart语言集合了强类型和弱类型语言的特点，既可以制定类型也可以使用泛型。听起来是不是很牛逼 的样子 ，走着...
<a name="GdVaT"></a></p> <h3 id="_1-制定类型"><a href="#_1-制定类型" class="header-anchor">#</a> 1. 制定类型</h3> <p>指定类型也就是明确声明变量，格式如下：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>变量类型 变量名称 <span class="token operator">=</span>  赋值
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>示例代码如下：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>String temp <span class="token operator">=</span> <span class="token string">'value'</span><span class="token punctuation">;</span> <span class="token comment">// 字符串类型</span>
int number <span class="token operator">=</span> <span class="token number">111</span><span class="token punctuation">;</span> <span class="token comment">// 整数类型</span>
double float <span class="token operator">=</span> <span class="token number">12.0</span><span class="token punctuation">;</span> <span class="token comment">// 浮点型</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$temp $number $float'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印多个变量，使用单引号包括，${...}或者$...的方式表示变量</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>需要注意的是，定义的变量可以赋值 ，但是不可以赋值其他 类型的值</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>String temp <span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">;</span>
temp <span class="token operator">=</span> <span class="token string">'yeap'</span><span class="token punctuation">;</span> <span class="token comment">// yeap</span>
temp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 发生错误，不能赋值非字符串的值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a name="sF63d"></a></p> <h3 id="_2-类型推到"><a href="#_2-类型推到" class="header-anchor">#</a> 2. 类型推到</h3> <p>类型推导声明变量的方式如下：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span><span class="token operator">/</span><span class="token keyword">dynamic</span><span class="token operator">/</span><span class="token keyword">final</span><span class="token operator">/</span><span class="token keyword">const</span> 变量名称 <span class="token operator">=</span> 赋值
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中<code>dynamic</code>是可以在变量定义以后赋值不同类型的值的，所以通常情况下不使用<code>dynamic</code>定义变量，容易造成潜在的危险；<code>final</code>和<code>const</code>用来定义常量，定义后不能进行二次赋值。下面我们来看看他们的用法吧：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/* var */</span>
<span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
temp <span class="token operator">=</span> <span class="token string">'xxx'</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$temp ${temp.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xxx String   需要注意的是，runtimeType方法可以用来或许该变量或常量的类型</span>
temp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 报错，var不能赋值其他类型值</span>

<span class="token comment">/* dynamic */</span>
<span class="token keyword">dynamic</span> danger <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
danger <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$danger ${danger.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123 int</span>

<span class="token comment">/* const */</span>
<span class="token keyword">const</span> one <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$one ${one.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// i int</span>
one <span class="token operator">=</span> <span class="token string">'111'</span><span class="token punctuation">;</span> <span class="token comment">// 报错，变量不能进行二次赋值</span>

<span class="token comment">/* final */</span>
<span class="token keyword">final</span> temp <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$temp ${temp.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 int</span>
<span class="token keyword">final</span> _temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">return</span> <span class="token string">'get value'</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> timestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime<span class="token punctuation">.</span>now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$_temp ${_temp.runtimeType} $timestamp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// get value Closure: () =&gt; String () =&gt; String 时间戳</span>
<span class="token comment">// final 可以在编译阶段赋值，也就是说可以赋值函数和表达式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><a name="zq1Q2"></a></p> <h2 id="三、数据类型"><a href="#三、数据类型" class="header-anchor">#</a> 三、数据类型</h2> <p><code>dart</code>的数据包括数字类型、布尔类型、字符串类型和集合类型
<a name="krWjv"></a></p> <h3 id="_1-数字类型"><a href="#_1-数字类型" class="header-anchor">#</a> 1. 数字类型</h3> <p>数字类型主要包括整数类型（int）和浮点数类型（double），需要说明的是<code>Dart</code>的<code>int</code>和<code>double</code>主要取决于<code>Dart</code>的运行环境，其主要的用法如下所示：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 整数类型</span>
int number <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>
int _number <span class="token operator">=</span> <span class="token number">0x1B</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$number $_number'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 11 27</span>

<span class="token comment">// 浮点数类型</span>
double height <span class="token operator">=</span> <span class="token number">1.80</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1.8</span>

<span class="token comment">// 数字转字符串</span>
int age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> age<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num2str <span class="token operator">=</span> age<span class="token punctuation">.</span><span class="token function">toStringAsFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$age $str $num2str'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 25 25 25.00</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'${age.runtimeType} ${str.runtimeType} ${num2str.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// int String String</span>

<span class="token comment">// 字符串转数字</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token string">'22'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num2Int <span class="token operator">=</span> int<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num2Double  <span class="token operator">=</span> double<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$num $num2Int $num2Double'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 22 22 22.0</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'${num.runtimeType} ${num2Int.runtimeType} ${num2Double.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// String int double</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><a name="Tt0GT"></a></p> <h3 id="_2-布尔类型"><a href="#_2-布尔类型" class="header-anchor">#</a> 2. 布尔类型</h3> <p>布尔类型大致和js一样，但是<code>dart</code>的判断语句不能使用隐式转换，也就是说，<strong>Dart中不能使用!0 即真或!''即真。</strong></p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// boolean</span>
<span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$flag ${flag.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 条件语句</span>
<span class="token comment">/* 正确写法 */</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ... </span>
<span class="token punctuation">}</span>

<span class="token comment">/* 错误写法 */</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'message'</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'this is true'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><a name="GbBA0"></a></p> <h3 id="_3-字符串类型"><a href="#_3-字符串类型" class="header-anchor">#</a> 3. 字符串类型</h3> <p>Dart字符串是UTF-16编码单元的序列，使用方法和js类似，<strong>需要注意的是多行字符串的使用方法需要用到''',</strong><br>需要用到字符串拼接时，使用<code>${=expression}</code>表示，当拼接字符串和标识符时可以省略{}，直接使用<code>$variable</code></p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// String</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'this is a single string'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> _str <span class="token operator">=</span> <span class="token string">&quot;this is a single string&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> multiline  <span class="token operator">=</span> <span class="token string">'''first line
			secone line
      third line'''</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$str $_str $multiline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this is a single string this is a single string first line</span>
 <span class="token comment">//                       secone line</span>
 <span class="token comment">//     third line</span>

<span class="token comment">// 字符串拼接的方式在上面 实例中都有展示</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'jack'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'he is $name, his age is $age, his name type is ${name.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// he is jack, his age is 24, his name type is String</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><a name="TPbXt"></a></p> <h3 id="_4-集合类型"><a href="#_4-集合类型" class="header-anchor">#</a> 4. 集合类型</h3> <p><a name="DZxCh"></a></p> <h3 id="_1-集合类型的定义"><a href="#_1-集合类型的定义" class="header-anchor">#</a> 1. 集合类型的定义</h3> <p>Dart中常用的集合类型为<strong>List/Set/Map</strong><br>它们的定义分别是这样的</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/* List 定义 */</span>
<span class="token comment">// 1. 使用类型推导定义</span>
<span class="token keyword">var</span> letters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$letters ${letters.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [a, b, c, d] List&lt;String&gt;</span>

<span class="token comment">// 2. 明确指定类型</span>
List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$lsit ${list.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [message, abc] List&lt;String&gt;</span>

<span class="token comment">/* Set 定义 (List和Set的区别是，Set是无序的，且其中的元素是不重复的) */</span>
<span class="token comment">// 1. 使用类型推导定义</span>
<span class="token keyword">var</span> lettersSet <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$lettersSet ${lettersSet.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a, b, c} _CompactLinkedHashSet&lt;String&gt;</span>

<span class="token comment">// 2. 明确制定类型定义</span>
Set temp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$temp ${temp.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {1, 2, 3, 4} _CompactLinkedHashSet&lt;dynamic&gt;</span>

<span class="token comment">/* Map 定义 Map定义元素是一组键值对 */</span>
<span class="token comment">// 1. 使用类型推导定义</span>
<span class="token keyword">var</span> map1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$map1 ${map1.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: jack, 24: 22} _InternalLinkedHashMap&lt;dynamic, Object&gt;</span>

<span class="token comment">// 2. 明确指定类型定义 (键和值的类型只能按照约定类型来定义, Object可以定义字符串和数字类型)</span>
Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span> document <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'head'</span><span class="token punctuation">:</span> <span class="token string">'&lt;head&gt;&lt;/head&gt;'</span><span class="token punctuation">,</span> <span class="token string">'text'</span><span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$document ${document.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {head: &lt;head&gt;&lt;/head&gt;, text: 123} _InternalLinkedHashMap&lt;String, Object&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><a name="HaUHh"></a></p> <h3 id="_2-集合类型的常见操作"><a href="#_2-集合类型的常见操作" class="header-anchor">#</a> 2. 集合类型的常见操作</h3> <p>所有集合都支持获取长度的属性<code>length</code> ：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 获取集合的长度</span>
List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Set temp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span> document <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'head'</span><span class="token punctuation">:</span> <span class="token string">'&lt;head&gt;&lt;/head&gt;'</span><span class="token punctuation">,</span> <span class="token string">'text'</span><span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token function">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
<span class="token function">print</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

<span class="token comment">/* List的增加/删除/包含方法 */</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'add a lsit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [message, abc, add a lsit]</span>

list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 根据元素删除</span>
<span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [message, add a lsit]</span>
list<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 根据索引值删除, 索引值从0开始</span>
<span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [message]</span>

<span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">/* Map集合的操作，Map可以针对键值或者其中的一项进行操作，所以方法相对来说多一些 */</span>
Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span> map1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 1. 根据Key获取value</span>
<span class="token function">print</span><span class="token punctuation">(</span>map1<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2. 获取所有的entries</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'${map1.entries} ${map1.entries.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (MapEntry(name: jack), MapEntry(age: 22)) MappedIterable&lt;String, MapEntry&lt;String, Object&gt;&gt;</span>

<span class="token comment">// 3. 获取所有的keys</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'${map1.keys} ${map1.keys.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  (name, age) _CompactIterable&lt;String&gt;</span>

<span class="token comment">// 4. 获取所有的values</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'${map1.values} ${map1.values.runtimeType}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (jack, 22) _CompactIterable&lt;Object&gt;</span>

<span class="token comment">// 5. 判断是否包含某个Key和value</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'${map1.containsKey('</span>name<span class="token string">')} ${map1.containsValue(22)}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true true</span>

<span class="token comment">// 6. 根据key删除元素</span>
map1<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>map1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: jack}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p><a name="YqUmL"></a></p> <h2 id="四、函数"><a href="#四、函数" class="header-anchor">#</a> 四、函数</h2> <p>Dart是一种面向对象的语言，所以即使函数也是对象，所以也有类型，函数类型是Function，<strong>函数是一等公民</strong>，这也就意味着函数可以作为变量定义或者作为其他函数的参数或者返回值.<br>函数的定义：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>返回值类型 函数的名称<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	函数体
  <span class="token keyword">return</span> 返回值
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>按照上面定义，我们实现一个完整函数：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>int <span class="token function">sum</span><span class="token punctuation">(</span>num sum1<span class="token punctuation">,</span> num sum2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> sum1 <span class="token operator">+</span> sum2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 其中函数返回值的类型定义是可以省略的</span>
<span class="token function">sum</span><span class="token punctuation">(</span>num sum1<span class="token punctuation">,</span> num sum2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> sum1 <span class="token operator">+</span> sum2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 如果函数只有一个表达式也可以写成箭头函数的形式</span>
<span class="token function">sum</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>Dart</code> 函数和js中比较大的区别是，该函数的可选参数分为<strong>位置可选函数（用[]表示）<strong>和</strong>命名可选参数（用{}表示）。</strong><br><strong>定义方式：</strong></p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>命名可选参数：<span class="token punctuation">{</span>param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
位置可选参数：<span class="token punctuation">[</span>param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token comment">// 需要注意的是命名可选参数和位置可选参数不能同时使用 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可选参数的示例，如下所示：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 命名可选参数</span>
<span class="token function">person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token punctuation">{</span>int age<span class="token punctuation">,</span> double height <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'my name is $name, my height is $height, $age years old this years!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">person</span><span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is jack, my height is null, 22 years old this years!</span>

<span class="token comment">// 位置可选参数</span>
<span class="token function">person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token punctuation">[</span> int age<span class="token punctuation">,</span> double height <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'my name is $name, my height is $height, $age years old this years!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">person</span><span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is jack, my height is null, 22 years old this years!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>可选参数还可以指定默认值，需要注意的是<strong>必须参数不能指定默认值</strong>，可选参数默认值在定义变量后用等号连接，如下所示：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token function">person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token punctuation">{</span> int age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">,</span> double height  <span class="token operator">=</span> <span class="token number">1.80</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'my name is $name, my height is $height, $age years old this years!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">person</span><span class="token punctuation">(</span><span class="token string">'nick'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is nick, my height is 1.8, 25 years old this years!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>Dart</code>中函数的作用域和闭包使用方法和js类似，不同的是<code>Dart</code>中函数的返回值是一定存在的，默认值为<code>null</code>，隐式附加到函数体：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token function">main</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this is a Function   null</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'this is a Function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a name="Q7DDZ"></a></p> <h2 id="五、运算符"><a href="#五、运算符" class="header-anchor">#</a> 五、运算符</h2> <p><code>Dart</code>中运算符相对来说 多一些，就不一一进行总结了 ，只针对相对于js不同的地方进行举例说明，这些运算符可能看起来有点不习惯，但是很大的方便了我们的开发。
<a name="UdKYi"></a></p> <h3 id="数值整除、取整、取模"><a href="#数值整除、取整、取模" class="header-anchor">#</a> 数值整除、取整、取模</h3> <p><br><code>var num = 7;</code><br><code>print(num / 2); // 3.5</code><br><code>print(num ~/ 2); // 3</code><br><code>print(num % 2); // 1</code><br></p> <p><a name="iPnv0"></a></p> <h3 id="赋值操作"><a href="#赋值操作" class="header-anchor">#</a> ??=赋值操作</h3> <p><code>？？=</code>这个操作符比较神奇，可以取代js中的三目运算符，而且代码也没那么冗长，首先解释下他的用法：</p> <ul><li>当变量为<code>null</code> 时，使用后面的值来赋值</li> <li>当变量有值时，使用前面的值来赋值</li></ul> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token function">mian</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'dart'</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> name1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  name1 <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token function">print</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// dart</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><a name="raGPD"></a></p> <h3 id="条件运算符"><a href="#条件运算符" class="header-anchor">#</a> 条件运算符</h3> <p><code>expr1 ？？pxpr2</code> 这就是dart中的条件运算符，他的用法是：</p> <ul><li>如果<code>expr1</code> 是 <code>null</code> ，则返回 <code>expr2</code> 的结果</li> <li>如果 <code>expr1</code> 不是 <code>null</code> ，则直接使用<code>expr1</code>的值</li></ul> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token string">'dart'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> temp <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">'no value'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> name1 <span class="token operator">=</span> str <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">'no value'</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'this name is $name, this name1 is $name1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this name is dart, this name1 is no value</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a name="na0Mx"></a></p> <h3 id="级联语法"><a href="#级联语法" class="header-anchor">#</a> 级联语法</h3> <p>有些时候需要对一个类进行连续操作，这个时候可以使用级联语法：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	String name<span class="token punctuation">;</span>
  
  <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$name is running'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$name is eating'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">void</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Hi! $name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">main</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">final</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jack'</span><span class="token punctuation">;</span>
  p1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jack is running</span>
  p1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jack is eating</span>
  p1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hi! jack</span>
  
  <span class="token keyword">final</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'nick'</span>
    <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// nick is running</span>
    <span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// nick is eating</span>
    <span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hi! nick</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><a name="ojTun"></a></p> <h2 id="六、流程控制"><a href="#六、流程控制" class="header-anchor">#</a> 六、流程控制</h2> <p><code>dart</code> 的流程控制和js基本类似，需要注意的是其中的<code>if/else</code>语句中的判断条件只能为<code>boolean</code>类型。<br></p> <p><a name="Ncldb"></a></p> <h2 id="七、类和对象"><a href="#七、类和对象" class="header-anchor">#</a> 七、类和对象</h2> <p><code>Dart</code> 是一个面向对象的语言，面向对象中非常重要的概念就是类，类产生了对象<br></p> <p><a name="fo39F"></a></p> <h3 id="_1-类的定义"><a href="#_1-类的定义" class="header-anchor">#</a> 1. 类的定义</h3> <p>定义类使用<code>class关键字</code>，类通常有两部分组成：成员(member)和方法(method)。<br>定义的伪代码：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> 类名 <span class="token punctuation">{</span>
	类型 成员名<span class="token punctuation">;</span>
  返回值类型 方法名<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	方法体
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>编写一个简单的Person类：</p> <ul><li>需要注意的是：在方法体内使用成员变量时，不需要加<code>this</code>;</li> <li>当成员变量存在命名冲突 时，<code>this</code>不能省略</li> <li>创建实例对象时，<code>new</code>关键字可以省略（dart version &gt;= 2.0）</li></ul> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	String name<span class="token punctuation">;</span>
  
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$name is eating'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">main</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ==&gt; var p1 = Person()</span>
  	<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jack'</span><span class="token punctuation">;</span>
  	<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jack is eating</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><a name="EvlmY"></a></p> <h3 id="_2-构造方法"><a href="#_2-构造方法" class="header-anchor">#</a> 2. 构造方法</h3> <p><a name="AJFIz"></a></p> <h4 id="_2-1-普通构造方法"><a href="#_2-1-普通构造方法" class="header-anchor">#</a> 2.1 普通构造方法</h4> <p>当通过类创建一个对象时，会调用这个类的构造函数。</p> <ul><li>当类中没有明确的指定构造方法时，将默认拥有一个无参的构造方法</li> <li>上面的Person中就是在调用这个构造方法</li></ul> <p>我们也可以根据自己的需求自定义构造方法：</p> <ul><li>当有了自己的构造方法时，默认的构造函数会失效，不能使用。<strong>当然，你可能希望明确的写一个默认的构造方法 ，但是会和我们自定义的构造方法冲突；这是因为Dart本身不支持函数的重载【名称相同，参数不同的方式】</strong></li> <li>示例实现toString方法：</li></ul> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  String name<span class="token punctuation">;</span>
  int age<span class="token punctuation">;</span>
  
  <span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> int age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token metadata symbol">@override</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token string">'name = $name, age = $age'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>在实现构造方法时，通常做的事就是通过参数给属性赋值，为了简化这一过程，Dart提供了语法糖简化这一过程：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> int age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age  <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等价于</span>
<span class="token function">Person</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> int age<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a name="r547q"></a></p> <h4 id="_2-2-命名构造方法"><a href="#_2-2-命名构造方法" class="header-anchor">#</a> 2.2 命名构造方法</h4> <p>在开发中，我们确实希望实现更多的构造方法，怎么办呢？<br><strong>因为不支持函数（方法）的重载，所以我们没办法创建相同名称的构造方法</strong><br>需要使用<strong>命名构造函数：</strong></p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	String name<span class="token punctuation">;</span>
  int age<span class="token punctuation">;</span>
  
  <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 命名构造方法</span>
  Person<span class="token punctuation">.</span><span class="token function">withArguments</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> int age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token metadata symbol">@override</span> 
  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token string">'name = $name, age = $age'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 创建对象</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name = , age = 0</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person<span class="token punctuation">.</span>withArguments</span><span class="token punctuation">(</span><span class="token string">'teacher'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name = teacher, age = 22</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><a name="zMwqw"></a></p> <h4 id="_2-3-重定向构造函数"><a href="#_2-3-重定向构造函数" class="header-anchor">#</a> 2.3 重定向构造函数</h4> <p>在某些情况下，传入相同值时，希望返回同一个对象，这个时候可以使用常量构造方法。默认情况创建对象时，即使传入相同的参数，创建出来的也不是同一个对象</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">12/15/2021, 6:30:13 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e4cbe0ad.js" defer></script><script src="/assets/js/26.58159373.js" defer></script><script src="/assets/js/1.297c7cf7.js" defer></script><script src="/assets/js/30.8da771a8.js" defer></script>
  </body>
</html>
